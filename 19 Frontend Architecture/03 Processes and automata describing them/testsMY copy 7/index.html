<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Local</title>
  </head>
  <body>
    <div class="container m-3">
      <div data-editable-target="name"><i>name</i></div>
    </div>

    <script>
      

      const handleOnClick = (event, arg, counter) => {
        event.currentTarget.innerHTML = `content of arg is: ${arg}, handler worked: ${counter.value} time`;
        counter.value += 1;
        // event.currentTarget.removeEventListener('click', handleOnClick); // <-- this does not work
      };

      let counter = {
        value: 0,
      };
      const element = document.querySelector('div[data-editable-target]');
      // element.addEventListener('click', (event) => handleOnClick(event, 'some value', counter));
      element.addEventListener('click', (event) => handleOnClick(event, 'some value', counter));

      /* ********************************* */
      const curry = function(i) {
        return (e) => changeCountry(e, i);
      }; 
      button.addEventListener('click', curry(i));

      const curry = (i) => (e) => changeCountry(e, i);
      const unsubscribe = subscribe(button, 'click', curry(i));

    </script>

  </body>
</html>
